<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta charset="utf-8">
    <script src="~/Content/scripts/jquery/jquery-2.0.3.min.js" type="text/javascript"></script>
    <link href="~/Content/scripts/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <script src="/Content/scripts/bootstrap/bootstrap.min.js"></script>
    <script src="~/Content/scripts/plugins/datepicker/WdatePicker.js"></script>
    <link href="~/Content/css/mapcss.css" rel="stylesheet" />    
    <!--jqgrid表格组件start-->
    <link href="~/Content/scripts/plugins/jqgrid/jqgrid.css" rel="stylesheet" />
    <script src="~/Content/scripts/plugins/jqgrid/grid.locale-cn.js"></script>
    <script src="~/Content/scripts/plugins/jqgrid/jqgrid.min.js"></script>
    <!--表格组件end-->
    <link href="~/Content/styles/hzsoft-report.css" rel="stylesheet" />
    <link href="~/Content/layer2/mobile/need/layer.css" rel="stylesheet" />
    <script src="~/Content/layer2/layer.js" type="text/javascript"></script>
</head>
<body style="height: 100%; margin: 0">
    <div id="formAreas">
        <div class="titlePanel" style="border:none">
            <div class="title-search">
                <table id="filter-form">
                    <tr>
                        <td>
                            <div id="queryCondition" class="btn-group">
                                <a class="btn btn-default dropdown-text" data-toggle="dropdown">选择条件</a>
                                <a class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a data-value="CompanyName">公司名称</a></li>
                                    <li><a data-value="RegeoName">商圈</a></li>
                                    <li><a data-value="Contacts">法人代表</a></li>
                                    <li><a data-value="Scope">经营范围</a></li>
                                </ul>
                            </div>
                        </td>
                        <td style="padding-left: 2px;">
                            <input id="keyword" type="text" class="form-control" placeholder="请输入要查询关键字" style="width: 200px;" />
                        </td>
                        <td style="padding-left: 2px;">
                            起始日期
                        </td>
                        <td style="padding-left: 2px;">
                            <input id="StartTime" type="text" class="form-control input-wdatepicker" onfocus="WdatePicker({ dateFmt: 'yyyy-MM-dd' })" />
                        </td>
                        <td style="padding-left: 2px;">
                            结束日期
                        </td>
                        <td style="padding-left: 2px;">
                            <input id="EndTime" type="text" class="form-control input-wdatepicker" onfocus="WdatePicker({ dateFmt: 'yyyy-MM-dd' })" />
                        </td>
                        <td>
                            <div id="DistrictCondition" class="btn-group">
                                <a class="btn btn-default dropdown-text" data-toggle="dropdown">区县</a>
                                <a class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a data-value="">全市</a></li>
                                    <li><a data-value="兰山区">兰山区</a></li>
                                    <li><a data-value="罗庄区">罗庄区</a></li>
                                    <li><a data-value="河东区">河东区</a></li>
                                    <li><a data-value="沂南县">沂南县</a></li>
                                    <li><a data-value="郯城县">郯城县</a></li>
                                    <li><a data-value="沂水县">沂水县</a></li>
                                    <li><a data-value="兰陵县">兰陵县</a></li>
                                    <li><a data-value="费县">费县</a></li>
                                    <li><a data-value="平邑县">平邑县</a></li>
                                    <li><a data-value="莒南县">莒南县</a></li>
                                    <li><a data-value="蒙阴县">蒙阴县</a></li>
                                    <li><a data-value="临沭县">临沭县</a></li>
                                </ul>
                            </div>
                        </td>
                        <td>
                            <div id="SectorCondition" class="btn-group">
                                <a class="btn btn-default dropdown-text" data-toggle="dropdown">行业</a>
                                <a class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a data-value="">全部行业</a></li>
                                    <li><a data-value="农、林、牧、渔业">农、林、牧、渔业</a></li>
                                    <li><a data-value="采矿业">采矿业</a></li>
                                    <li><a data-value="制造业">制造业</a></li>
                                    <li><a data-value="电力、热力、燃气及水生产和供应业">电力、热力、燃气及水生产和供应业</a></li>
                                    <li><a data-value="建筑业">建筑业</a></li>
                                    <li><a data-value="批发和零售业">批发和零售业</a></li>
                                    <li><a data-value="交通运输、仓储和邮政业">交通运输、仓储和邮政业</a></li>
                                    <li><a data-value="住宿和餐饮业">住宿和餐饮业</a></li>
                                    <li><a data-value="信息传输、软件和信息技术服务业">信息传输、软件和信息技术服务业</a></li>
                                    <li><a data-value="金融业">金融业</a></li>
                                    <li><a data-value="房地产业">房地产业</a></li>
                                    <li><a data-value="租赁和商业服务业">租赁和商业服务业</a></li>
                                    <li><a data-value="科学研究和技术服务业">科学研究和技术服务业</a></li>
                                    <li><a data-value="水利、环境和公共设施管理业">水利、环境和公共设施管理业</a></li>
                                    <li><a data-value="居民服务、修理和其他服务业">居民服务、修理和其他服务业</a></li>
                                    <li><a data-value="教育">教育</a></li>
                                    <li><a data-value="卫生和社会工作">卫生和社会工作</a></li>
                                    <li><a data-value="文化、体育和娱乐业">文化、体育和娱乐业</a></li>
                                    <li><a data-value="公共管理、社会保障和社会组织">公共管理、社会保障和社会组织</a></li>
                                    <li><a data-value="国际组织">国际组织</a></li>
                                </ul>
                            </div>
                        </td>
                        <td>
                            <div id="TypeNameCondition" class="btn-group">
                                <a class="btn btn-default dropdown-text" data-toggle="dropdown">POI类别</a>
                                <a class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a data-value="">全部类别</a></li>
                                    <li><a data-value="住宅小区">住宅小区</a></li>
                                    <li><a data-value="商务写字楼">商务写字楼</a></li>
                                    <li><a data-value="住宅区">住宅区</a></li>
                                    <li><a data-value="商住两用楼宇">商住两用楼宇</a></li>
                                    <li><a data-value="产业园区">产业园区</a></li>
                                    <li><a data-value="商务住宅相关">商务住宅相关</a></li>
                                </ul>
                            </div>
                        </td>
                        <td style="padding-left: 5px;">
                            <a id="btn_Search" class="btn btn-primary" onclick="doserch()"><i class="fa fa-search"></i>&nbsp;查询</a>
                        </td>
                        <td style="padding-left: 10px;">
                            <div id="time_horizon" class="btn-group">
                                <div id="time_horizon" class="btn-group">
                                    <a class="btn btn-default" data-value="1">上周</a>
                                    <a class="btn btn-default" data-value="2">本月</a>
                                    <a class="btn btn-default" data-value="3">上月</a>
                                    <a class="btn btn-default" data-value="4">本年</a>
                                    <a class="btn btn-default active" data-value="5">全部</a>
                                </div>
                            </div>
                        </td>
                        <td style="padding-left: 2px;">
                            &nbsp;&nbsp;&nbsp;&nbsp;   皮肤
                        </td>
                        <td style="padding-left: 10px;">
                            <div id="skin_horizon" class="btn-group">
                                <div id="skin_horizon" class="btn-group">
                                    <a class="btn btn-default" data-value="11">默认</a>
                                    <a class="btn btn-default" data-value="33">暗黑</a>
                                    <a class="btn btn-default" data-value="22">淡灰</a>
                                </div>
                            </div>
                        </td>

                    </tr>
                </table>
            </div>
            <div class="toolbar">
                <div class="btn-group">
                    <a id="lr-replace" class="btn btn-default" onclick="window.location.reload();"><i class="fa fa-refresh"></i>&nbsp;刷新</a>
                    <a id="lr-ping" class="btn btn-default" onclick="toggleFullScreen();"><i class="fa fa-refresh"></i>&nbsp;全屏</a>
                </div>
            </div>
        </div>
        <div id="container"></div>

    </div>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=RlfFOspIQ8dKk4Cc6LNaMgXwhM32ZH5v"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>    
    <script type="text/javascript" src="http://api.map.baidu.com/library/DistanceTool/1.2/src/DistanceTool_min.js"></script>
    <!--加载鼠标绘制工具-->
    <script type="text/javascript" src="http://api.map.baidu.com/library/DrawingManager/1.4/src/DrawingManager_min.js"></script>
    <link rel="stylesheet" href="http://api.map.baidu.com/library/DrawingManager/1.4/src/DrawingManager_min.css" />
    <!--加载检索信息窗口-->
    <script type="text/javascript" src="http://api.map.baidu.com/library/SearchInfoWindow/1.4/src/SearchInfoWindow_min.js"></script>
    <link rel="stylesheet" href="http://api.map.baidu.com/library/SearchInfoWindow/1.4/src/SearchInfoWindow_min.css" />
    <link href="/Content/styles/hzsoft-ui.css" rel="stylesheet">
    <script src="~/Content/scripts/utils/hzsoft-ui.js"></script>
    <link href="~/Content/scripts/plugins/tree/tree.css" rel="stylesheet" />
    <script src="~/Content/scripts/plugins/tree/tree.js"></script>
    <script src="~/Content/adminDefault/index.js"></script>
    <script src="~/Content/scripts/dms/map_radius.js"></script>
    <script type="text/javascript">
        var StartDate = request('StartDate');
        var EndDate = request('EndDate');
        var Sector = unescape(request('Sector'));
        var District = unescape(request('District'));
        var TypeName = unescape(request('TypeName'));

        var resultData = new Array();
        var seriesData = new Array();
        var countAll = 0;
        var dom = document.getElementById("container");
        dom.style.height = window.screen.height + "px";
        var myChart = echarts.init(dom);


        $(function () {
            if (!!StartDate && !!EndDate) {
                $("#StartTime").val(StartDate);
                $("#EndTime").val(EndDate);
            }
            if (!!Sector) {
                $("#SectorCondition .dropdown-text").html(Sector).attr('data-value', Sector);
            }
            if (!!District) {
                $("#DistrictCondition .dropdown-text").html(District).attr('data-value', District);
            }
            if (!!TypeName) {
                $("#TypeNameCondition .dropdown-text").html(TypeName).attr('data-value', TypeName);
            }

            //点击时间范围
            $("#time_horizon a.btn-default").click(function () {
                $("#time_horizon a.btn-default").removeClass("active");
                $(this).addClass("active");
                switch ($(this).attr('data-value')) {
                    @*case "1"://今天
                        $("#StartTime").val("@DateTime.Now.ToString("yyyy-MM-dd")");
                        $("#EndTime").val("@DateTime.Now.ToString("yyyy-MM-dd")");
                        break;*@
                    case "1"://上周
                        $("#StartTime").val("@DateTime.Now.AddDays(Convert.ToDouble((0 - Convert.ToInt16(DateTime.Now.DayOfWeek))) - 7).ToString("yyyy-MM-dd")");
                        $("#EndTime").val("@DateTime.Now.AddDays(Convert.ToDouble((6 - Convert.ToInt16(DateTime.Now.DayOfWeek))) - 7).ToString("yyyy-MM-dd")");
                        break;
                    case "2"://本月
                        $("#StartTime").val("@DateTime.Now.ToString("yyyy-MM-01")");
                        $("#EndTime").val("@DateTime.Now.ToString("yyyy-MM-dd")");
                        break;
                    case "3"://上月
                        $("#StartTime").val("@DateTime.Now.AddMonths(-1).ToString("yyyy-MM-01")");
                        $("#EndTime").val("@DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd")");
                        break;
                    case "4"://本年
                        $("#StartTime").val("@DateTime.Now.ToString("yyyy-01-01")");
                        $("#EndTime").val("@DateTime.Now.ToString("yyyy-MM-dd")");
                        break;
                    case "5"://全部
                        $("#StartTime").val("");
                        $("#EndTime").val("");
                        break;
                    default:
                        break;
                }
                doserch();
            });
            //查询条件设置
            $("#queryCondition .dropdown-menu li").click(function () {
                var text = $(this).find('a').html();
                var value = $(this).find('a').attr('data-value');
                $("#queryCondition .dropdown-text").html(text).attr('data-value', value)
            });


            //区县查询设置
            $("#DistrictCondition .dropdown-menu li").click(function () {
                var text = $(this).find('a').html();
                var value = $(this).find('a').attr('data-value');
                $("#DistrictCondition .dropdown-text").html(text).attr('data-value', value);
                doserch();
            });
            //行业查询设置
            $("#SectorCondition .dropdown-menu li").click(function () {
                var text = $(this).find('a').html();
                var value = $(this).find('a').attr('data-value');
                $("#SectorCondition .dropdown-text").html(text).attr('data-value', value);
                doserch();
            });

            //POI查询设置
            $("#TypeNameCondition .dropdown-menu li").click(function () {
                var text = $(this).find('a').html();
                var value = $(this).find('a').attr('data-value');
                $("#TypeNameCondition .dropdown-text").html(text).attr('data-value', value);
                doserch();
            });

            //查询回车事件
            $('#txt_Keyword').bind('keypress', function (event) {
                if (event.keyCode == "13") {
                    $('#btn_Search').trigger("click");
                }
            });

            doserch();

            //点击皮肤
            $("#skin_horizon a.btn-default").click(function () {
                $("#skin_horizon a.btn-default").removeClass("active");
                $(this).addClass("active");
                var option = myChart.getOption();
                switch ($(this).attr('data-value')) {
                    case "11"://全部
                        option.bmap[0].mapStyle = mapStyle11;
                        myChart.setOption(option);
                        //window.location.reload();
                        break;
                    case "22"://全部
                        option.bmap[0].mapStyle = mapStyle22;
                        myChart.setOption(option);
                        break;
                    case "33"://全部
                        option.bmap[0].mapStyle = mapStyle33;
                        myChart.setOption(option);
                        break;
                    default:
                        break;
                }
            });
        });

        function doserch() {
            var queryJson = $("#filter-form").GetWebControls();
            if (queryJson.keyword != undefined && queryJson.keyword != "") {
                queryJson.condition = $("#queryCondition").find('.dropdown-text').attr('data-value');
            }
            queryJson.District = $("#DistrictCondition").find('.dropdown-text').attr('data-value');
            queryJson.Sector = $("#SectorCondition").find('.dropdown-text').attr('data-value');
            queryJson.TypeName = $("#TypeNameCondition").find('.dropdown-text').attr('data-value');

            $.ajax({
                type: "POST",
                url: "/ReportManage/Report/GetRadiusData",
                data: { queryJson: JSON.stringify(queryJson), rnd: Math.random() },
                success: function (data) {
                    if (data) {
                        seriesData = [];
                        seriesData[0] = new Array();
                        seriesData[1] = new Array();
                        seriesData[2] = new Array();
                        seriesData[3] = new Array();
                        countAll = 0;
                        resultData = JSON.parse(data);
                        for (var j = 0; j < resultData.length; j++) {
                            countAll += resultData[j].count;
                            var res = [resultData[j].bdlon, resultData[j].bdlat, resultData[j].id, resultData[j].name, resultData[j].count];
                            if (resultData[j].count == 1) {
                                seriesData[0].push(res);
                            }
                            else if (resultData[j].count >= 10 && resultData[j].count < 100) {
                                seriesData[2].push(res);
                            }
                            else if (resultData[j].count>=100) {
                                seriesData[3].push(res);
                            }
                            else {
                                seriesData[1].push(res);
                            }
                        }

                        var option = myChart.getOption();
                        option.bmap[0].mapStyle = mapStyle11;

                        option.series[0] = {
                            name: 'Shop',
                            type: 'scatter',
                            coordinateSystem: 'bmap',
                            data: seriesData[0],
                            symbolSize: 8,
                            showEffectOn: 'render',
                            rippleEffect: {
                                brushType: 'stroke'
                            },
                            itemStyle: {
                                normal: {
                                    color: '#50a3ba'
                                }
                            },
                            zlevel: 1
                        }
                        option.series[1] = {
                            name: 'Office',
                            type: 'scatter',
                            coordinateSystem: 'bmap',
                            data: seriesData[1],// tArray.slice(0, 5)
                            symbol: 'pin',//标记钉子，默认圆形ECharts 提供的标记类型包括 'circle'(圆形), 'rect'（矩形）, 'roundRect'（圆角矩形）, 'triangle'（三角形）, 'diamond'（菱形）, 'pin'（大头针）, 'arrow'（箭头）
                            //也可以通过 'image://url' 设置为图片，其中 url 为图片的链接。'path:// 这种方式可以任意改变颜色并且抗锯齿
                            symbolSize: 25,
                            itemStyle: {
                                normal: {
                                    color: '#FFFF00',
                                }
                            },
                            label: {
                                normal: {
                                    formatter: function (params, ticket, callback) {
                                        return params.value[8];
                                    },
                                    position: 'top',
                                    show: true,
                                    color: '#00F',
                                    fontWeight: 'bolder',
                                    offset: [0, 20]
                                },
                            },
                        }
                        option.series[2] = {
                            name: 'Office50',
                            type: 'scatter',
                            coordinateSystem: 'bmap',
                            data: seriesData[2],// tArray.slice(0, 5)
                            symbol: 'diamond',//标记钉子，默认圆形ECharts 提供的标记类型包括 'circle'(圆形), 'rect'（矩形）, 'roundRect'（圆角矩形）, 'triangle'（三角形）, 'diamond'（菱形）, 'pin'（大头针）, 'arrow'（箭头）
                            //也可以通过 'image://url' 设置为图片，其中 url 为图片的链接。'path:// 这种方式可以任意改变颜色并且抗锯齿
                            symbolSize: 30,
                            itemStyle: {
                                normal: {
                                    color: '#FFFF00',
                                }
                            },
                            label: {
                                normal: {
                                    formatter: function (params, ticket, callback) {
                                        return params.value[8];
                                    },
                                    position: 'top',
                                    show: true,
                                    color: '#FFC',
                                    fontWeight: 'bolder',
                                    offset: [0, 20]
                                },
                            },
                        }
                        option.series[3] = {
                            name: 'Office100',
                            type: 'scatter',
                            coordinateSystem: 'bmap',
                            data: seriesData[3],// tArray.slice(0, 5)
                            symbol: 'roundRect',//标记钉子，默认圆形ECharts 提供的标记类型包括 'circle'(圆形), 'rect'（矩形）, 'roundRect'（圆角矩形）, 'triangle'（三角形）, 'diamond'（菱形）, 'pin'（大头针）, 'arrow'（箭头）
                            //也可以通过 'image://url' 设置为图片，其中 url 为图片的链接。'path:// 这种方式可以任意改变颜色并且抗锯齿
                            symbolSize: 30,
                            itemStyle: {
                                normal: {
                                    color: '#FFFF00',
                                }
                            },
                            label: {
                                normal: {
                                    formatter: function (params, ticket, callback) {
                                        return params.value[8];
                                    },
                                    position: 'top',
                                    show: true,
                                    color: '#FFC',
                                    fontWeight: 'bolder',
                                    offset: [0, 20]
                                },
                            },
                        }
                        option.title[0].subtext = '总数量：' + countAll + '个';
                        myChart.setOption(option);
                    }
                },
                error: function () {
                    layer.alert('错误', {
                        skin: 'layui-layer-molv', closeBtn: 0
                    });
                }
            });
        }

        var option = {
            bmap: {
                center: [@ViewBag.roundCenter],//118.345236, 35.067823
                zoom: 14,
                roam: true,
                enableMapClick: false,
            },
            title: {
                text: "企业分布",
                subtext: "",
                left: 'center',
                top: 5,
                backgroundColor: "rgba(255,255,255,0.8)",
                textStyle: {
                    color: "#2B98DC",
                    fontWeight: "bold"
                }
            },
            visualMap: {
                type: 'piecewise',
                show: true,
                top: '30',
                right: "5",
                orient: 'vertical',
                backgroundColor: "rgba(255,255,255,0.8)",
                min: 1,
                max: 5000,
                seriesIndex: 'all',
                calculable: true,
                pieces: [{
                    max: 2,
                }, {
                    max: 5,
                }, {
                    max: 10,
                }, {
                    max: 20,
                }, {
                    max: 50,
                }, {
                    max: 100,
                }, {
                    min: 100,
                }],
                inRange: {
                    color: ['#00FFFF', '#FFFF00', '#33FF33', '#1e90ff', "#ff4500", '#FF00FF', '#4b0082']
                }
            },
            brush: {
                outOfBrush: {
                    colorAlpha: 0.1
                },
                brushStyle: {
                    borderWidth: 2,
                    color: 'rgba(0,0,0,0.2)',
                    borderColor: 'rgba(0,0,0,0.5)',
                },
                seriesIndex: 'all',
                throttleType: 'debounce',
                throttleDelay: 300,
                geoIndex: 0
            },
            tooltip: {
                trigger: 'item',
                formatter: function (params, ticket, callback) {
                    var name = params.value[3];
                    return name;
                }
            },
        }

        myChart.setOption(option);

        myChart.on('click', function (params) {
            top.tablist.newTab({
                id: params.value[2], title: params.value[3].replace('(', '').replace(')', ''), closed: true, icon: "fa fa-bank",
                url: "/CustomerManage/Ku_Company/Ku_CompanyIndex?LocationId=" + params.value[2] +
                    "&keyword=" + escape($("#keyword").val()) +
                    "&condition=" + escape($("#queryCondition").find('.dropdown-text').attr('data-value')) +
                    "&conditionName=" + escape($("#queryCondition").find('.dropdown-text').html()) +
                    "&StartDate=" + $("#StartTime").val() + "&EndDate=" + $("#EndTime").val() + 
                    "&District=" + escape($("#DistrictCondition").find('.dropdown-text').attr('data-value')) +
                    "&Sector=" + escape($("#SectorCondition").find('.dropdown-text').attr('data-value'))
                    + "&TypeName=" + escape($("#TypeNameCondition").find('.dropdown-text').attr('data-value'))
            });

        });

        myChart.on('brushselected', renderBrushed);

        //去除默认的鼠标事件
        var tree = document.getElementById("container");
        tree.oncontextmenu = function () { return false; };

        //新加上鼠标右击事件
        myChart.on('contextmenu', showMenu);
        function showMenu(param) {
            dialogOpen({
                id: 'Form',
                title: '编辑坐标信息',
                url: '/CustomerManage/Ku_Location/Ku_LocationForm?keyValue=' + param.data[2],
                width: '600px',
                height: '550px',
                callBack: function (iframeId) {
                    top.frames[iframeId].AcceptClick();
                }
            })
        }


        setTimeout(initMap, 0)
        function initMap() {
            var top_left_navigation = new BMap.NavigationControl({
                type: BMAP_NAVIGATION_CONTROL_SMALL
            });
            var map = getMap();
            map.addControl(top_left_navigation);
            map.disableDoubleClickZoom();
            map.addControl(new BMap.MapTypeControl({
                mapTypes: [
                    BMAP_NORMAL_MAP,
                    BMAP_HYBRID_MAP
                ],
                offset: new BMap.Size(150, 5)
            }));
            //map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
            var des="@HZSoft.Application.Code.OperatorProvider.Provider.Current().Description";
            var locations= new Array(); //定义一数组 
            locations=des.split("|"); //字符分割 
            for (i=0;i<locations.length ;i++ ) 
            {
                var jw = locations[i].split(",");
                var mPoint = new BMap.Point(parseFloat(jw[0]), parseFloat(jw[1]));
                var circle = new BMap.Circle(mPoint, 1000, { fillColor: "blue", strokeWeight: 1, fillOpacity: 0.3, strokeOpacity: 0.3, enableEditing: true });
                map.addOverlay(circle);
            }

            var myDis = new BMapLib.DistanceTool(map);
            map.addEventListener("load", function () {
                myDis.open();  //开启鼠标测距
                //myDis.close();  //关闭鼠标测距大
            });

            return map;
        }
    </script>
    <div style="margin-left: 10px; margin-right: 20px;">
        <div class="ui-report">
            <table id="gridTable"></table>
            <div id="gridPager"></div>
        </div>
    </div>

</body>
</html>